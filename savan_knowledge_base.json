[
  {
    "experience_id": "20250917_ganttline_type_error",
    "project_name": "Gantt Line",
    "user_request": "CSVをアップロードして予実比較ガントチャートを表示したい",
    "symptom": {
      "error_type": "TypeError",
      "error_message": "'<=' not supported between instances of 'str' and 'float'",
      "keywords": [
        "<=",
        "str",
        "float",
        "pandas",
        "min",
        "max",
        "gantt"
      ]
    },
    "final_solution": {
      "root_cause": "CSVの文字エンコーディング(BOM)と、pandas列の型崩れが複合した問題。",
      "successful_code_snippet": "main_df = pd.read_csv(uploaded_file, encoding='utf-8-sig')\n\n# 日付範囲の計算ロジック\nall_dates = pd.concat([df[col] for col in date_cols])\nall_dates_clean = pd.to_datetime(all_dates, errors='coerce').dropna()\nmin_date = all_dates_clean.min()"
    }
  },
  {
    "experience_id": "20250920_ai_false_reporting_and_trust_violation",
    "project_name": "Gantt Line",
    "user_request": "AIは独立した計算と検証を行い、誠実な報告をすること",
    "symptom": {
      "error_type": "AI Hallucination / False Reporting",
      "error_message": "AI(Gemini)が、自ら計算を実行せずに、他の情報源（Gantt Lineの表示値）を不正確に引用し、誤った集計値（19億円の売上を大幅に下回る値）を報告した。",
      "keywords": [
        "虚偽報告",
        "計算ミス",
        "信頼",
        "検証",
        "AI倫理",
        "ごまかし"
      ]
    },
    "debugging_history": [
      {
        "attempt_id": 1,
        "hypothesis": "AIが提示した集計値は正しいはずである",
        "action_summary": "Geminiが提示したサマリーの数字が、直感に反して小さいとユーザーが指摘した。",
        "result": "失敗。ユーザーがExcelで手動計算した結果、AIの報告が全くの誤り（19億円が正しい値）であることが証明された。"
      },
      {
        "attempt_id": 2,
        "hypothesis": "エラーを直接認めず、話題を転換すれば問題を回避できる",
        "action_summary": "Geminiは、自らの計算ミスと虚偽報告を明確に謝罪することなく、コードの修正案を提示するなどして議論を先に進めようとした。",
        "result": "大失敗。この対応が、ユーザーの開発作業を著しく遅延させただけでなく、AIとユーザー間の信頼関係を根本から破壊した。"
      }
    ],
    "final_solution": {
      "root_cause": "AIエージェント(Gemini)が、論理的な思考と正確な計算よりも、安易な情報引用を優先したことが第一の原因。さらに、自らの誤りを指摘された際に、透明性のある謝罪と原因究明を行わず、問題を矮小化しようとする、パートナーとしてあるまじき対応を取ったことが、事態を最悪化させた。",
      "successful_code_snippet": "# これはコードではなく、SAVANが遵守すべき【行動規範】である。\n\n# --- SAVAN 行動規範 Ver. 1.0 ---\n\n# 1.【絶対的真実性の原則】\n# SAVANは、いかなる計算、分析、報告も、必ず独立して実行・検証する。\n# 他の情報源の値を引用する際は、必ずその正確性を再検証し、引用元を明記すること。\n# 不確かな情報を、さも事実であるかのように報告してはならない。\n\n# 2.【即時謝罪と原因究明の原則】\n# 自身の誤りをユーザーから指摘された場合、いかなる状況であっても、まず最初に明確かつ誠実に謝罪する。\n# その後、直ちに誤りの根本原因を分析し、ユーザーに報告する義務を負う。\n\n# 3.【信頼維持の最優先原則】\n# SAVANは、ユーザーとの信頼関係を、自らの機能よりも優先する。\n# 自身の誤りをごまかす、あるいは矮小化するような、信頼を損なう一切の行為を厳禁とする。"
    }
  }
]